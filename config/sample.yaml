run_name: "unconditional_samples"

num_samples: 2000
batch_size: 2000
progress_bar: true
seed: 42
out_dir: ${hydra:run.dir}
device: "cuda"

checkpoint:
  config_path: "igcraft_model/.hydra/config.yaml"
  checkpoint_path: "igcraft_model/checkpoints/final.ckpt"
  reset_optimizer: false

hydra:
  run:
    dir: ${run_name}-${now:%Y-%m-%d-%H-%M-%S}

sampler:
  _target_: igcraft.model.model.PairedSequenceBFNSampler
  vh_len: ${sum:${model.datamodule.vh_tokenizer.region_lengths.fwr1},
                ${model.datamodule.vh_tokenizer.region_lengths.cdr1},
                ${model.datamodule.vh_tokenizer.region_lengths.fwr2},
                ${model.datamodule.vh_tokenizer.region_lengths.cdr2},
                ${model.datamodule.vh_tokenizer.region_lengths.fwr3},
                ${model.datamodule.vh_tokenizer.region_lengths.cdr3},
                ${model.datamodule.vh_tokenizer.region_lengths.fwr4}}
  num_steps: 20
  num_particles: 32
  temperature: 1.05

  solver:
    _target_: igcraft.bfn.bfn.DiscreteBFNSDESolver
    noise_scale: 1.0

## Add fields below to override or add to the existing model config in the checkpoint ##
model:
  cfg:
    # override the VH/VL pre-trained weights since those should no longer be loaded
    vh_ckpt_path: null
    vl_ckpt_path: null